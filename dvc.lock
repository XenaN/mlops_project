schema: '2.0'
stages:
  merge_data@O3:
    cmd: python src/data/data_raw_merge.py data/interim/filtered/ES_O3_filtered.csv
      data/external/ES_O3.csv data/interim/updated/ES_O3_updated.csv
    deps:
    - path: data/external/
      md5: 45d4ed1d7665ec0758d53a70e3630590.dir
      size: 30114057
      nfiles: 7
    - path: data/interim/filtered
      md5: 349e36c1752efa78af4aadf1a71db4b3.dir
      size: 19353208
      nfiles: 9
    - path: src/data/data_raw_merge.py
      md5: b3d1239ec00bc4f5acee183cda4c361f
      size: 2598
    outs:
    - path: data/interim/updated/ES_O3_updated.csv
      md5: 71998cf359fffc12274f31102491d9fc
      size: 1762866
  merge_data@NO:
    cmd: python src/data/data_raw_merge.py data/interim/filtered/ES_NO_filtered.csv
      data/external/ES_NO.csv data/interim/updated/ES_NO_updated.csv
    deps:
    - path: data/external/
      md5: 1b42b8c5e8a4e267604622a3e7d96b8f.dir
      size: 42186767
      nfiles: 8
    - path: data/interim/filtered
      md5: f99d5bd460b830c2e834704ad52bc5f0.dir
      size: 19438151
      nfiles: 8
    - path: src/data/data_raw_merge.py
      md5: c0b3192a31f60e77bda8f77e4618fccd
      size: 2552
    outs:
    - path: data/interim/updated/ES_NO_updated.csv
      md5: 3db1db3703b6943f3b18ffe17c71e3ee
      size: 1806411
  merge_data@PM10:
    cmd: python src/data/data_raw_merge.py data/interim/filtered/ES_PM10_filtered.csv
      data/external/ES_PM10.csv data/interim/updated/ES_PM10_updated.csv
    deps:
    - path: data/external/
      md5: 45d4ed1d7665ec0758d53a70e3630590.dir
      size: 30114057
      nfiles: 7
    - path: data/interim/filtered
      md5: 349e36c1752efa78af4aadf1a71db4b3.dir
      size: 19353208
      nfiles: 9
    - path: src/data/data_raw_merge.py
      md5: b3d1239ec00bc4f5acee183cda4c361f
      size: 2598
    outs:
    - path: data/interim/updated/ES_PM10_updated.csv
      md5: dda34240adf85ba0e8a6f72c05355b61
      size: 1796153
  merge_data@PM2.5:
    cmd: python src/data/data_raw_merge.py data/interim/filtered/ES_PM2.5_filtered.csv
      data/external/ES_PM2.5.csv data/interim/updated/ES_PM2.5_updated.csv
    deps:
    - path: data/external/
      md5: 45d4ed1d7665ec0758d53a70e3630590.dir
      size: 30114057
      nfiles: 7
    - path: data/interim/filtered
      md5: 349e36c1752efa78af4aadf1a71db4b3.dir
      size: 19353208
      nfiles: 9
    - path: src/data/data_raw_merge.py
      md5: b3d1239ec00bc4f5acee183cda4c361f
      size: 2598
    outs:
    - path: data/interim/updated/ES_PM2.5_updated.csv
      md5: c7a976e8785c7a8ec73403199b8fa61a
      size: 1792914
  merge_data@NO2:
    cmd: python src/data/data_raw_merge.py data/interim/filtered/ES_NO2_filtered.csv
      data/external/ES_NO2.csv data/interim/updated/ES_NO2_updated.csv
    deps:
    - path: data/external/
      md5: 45d4ed1d7665ec0758d53a70e3630590.dir
      size: 30114057
      nfiles: 7
    - path: data/interim/filtered
      md5: 349e36c1752efa78af4aadf1a71db4b3.dir
      size: 19353208
      nfiles: 9
    - path: src/data/data_raw_merge.py
      md5: b3d1239ec00bc4f5acee183cda4c361f
      size: 2598
    outs:
    - path: data/interim/updated/ES_NO2_updated.csv
      md5: 7f6a6394d2ce7778ba713ef8e1109347
      size: 1761168
  merge_data@CO:
    cmd: python src/data/data_raw_merge.py data/interim/filtered/ES_CO_filtered.csv
      data/external/ES_CO.csv data/interim/updated/ES_CO_updated.csv
    deps:
    - path: data/external/
      md5: 45d4ed1d7665ec0758d53a70e3630590.dir
      size: 30114057
      nfiles: 7
    - path: data/interim/filtered
      md5: 349e36c1752efa78af4aadf1a71db4b3.dir
      size: 19353208
      nfiles: 9
    - path: src/data/data_raw_merge.py
      md5: b3d1239ec00bc4f5acee183cda4c361f
      size: 2598
    outs:
    - path: data/interim/updated/ES_CO_updated.csv
      md5: 638e535ebb38c0bd06c58a5c83fbb263
      size: 1740029
  merge_data@SO2:
    cmd: python src/data/data_raw_merge.py data/interim/filtered/ES_SO2_filtered.csv
      data/external/ES_SO2.csv data/interim/updated/ES_SO2_updated.csv
    deps:
    - path: data/external/
      md5: 45d4ed1d7665ec0758d53a70e3630590.dir
      size: 30114057
      nfiles: 7
    - path: data/interim/filtered
      md5: 349e36c1752efa78af4aadf1a71db4b3.dir
      size: 19353208
      nfiles: 9
    - path: src/data/data_raw_merge.py
      md5: b3d1239ec00bc4f5acee183cda4c361f
      size: 2598
    outs:
    - path: data/interim/updated/ES_SO2_updated.csv
      md5: 9ea4ad9ba3cae4765c5214957a7eb257
      size: 1764055
  filter_data@NO2:
    cmd: python src/data/filter_data.py data/raw/ES_NO2/ data/interim/filtered/ES_NO2_filtered.csv
    deps:
    - path: data/raw/
      md5: 384f78346ca1fb23fe80e385d1b96730.dir
      size: 7110257140
      nfiles: 5385
    - path: src/data/filter_data.py
      md5: c87b049ad13772e20638d57f23c6b671
      size: 1166
    outs:
    - path: data/interim/filtered/ES_NO2_filtered.csv
      md5: c6661f90cc37ef76e0469f00cf4aecc6
      size: 2728737
  filter_data@NO:
    cmd: python src/data/filter_data.py data/raw/ES_NO/ data/interim/filtered/ES_NO_filtered.csv
    deps:
    - path: data/raw/
      md5: f9f0cbd3ac6022e3baa43e123dc0f30c.dir
      size: 7097091282
      nfiles: 5380
    outs:
    - path: data/interim/filtered/ES_NO_filtered.csv
      md5: 59cba7e5e2ca6515bb7c72c17368adb0
      size: 2740661
  filter_data@SO2:
    cmd: python src/data/filter_data.py data/raw/ES_SO2/ data/interim/filtered/ES_SO2_filtered.csv
    deps:
    - path: data/raw/
      md5: 384f78346ca1fb23fe80e385d1b96730.dir
      size: 7110257140
      nfiles: 5385
    - path: src/data/filter_data.py
      md5: c87b049ad13772e20638d57f23c6b671
      size: 1166
    outs:
    - path: data/interim/filtered/ES_SO2_filtered.csv
      md5: a04d2665b22637f24cf10228d0ed0ad0
      size: 2755364
  filter_data@CO:
    cmd: python src/data/filter_data.py data/raw/ES_CO/ data/interim/filtered/ES_CO_filtered.csv
    deps:
    - path: data/raw/
      md5: 384f78346ca1fb23fe80e385d1b96730.dir
      size: 7110257140
      nfiles: 5385
    - path: src/data/filter_data.py
      md5: c87b049ad13772e20638d57f23c6b671
      size: 1166
    outs:
    - path: data/interim/filtered/ES_CO_filtered.csv
      md5: 3d7f5f0ee0a4633d4eaecd900305d4ee
      size: 2743304
  filter_data@O3:
    cmd: python src/data/filter_data.py data/raw/ES_O3/ data/interim/filtered/ES_O3_filtered.csv
    deps:
    - path: data/raw/
      md5: 384f78346ca1fb23fe80e385d1b96730.dir
      size: 7110257140
      nfiles: 5385
    - path: src/data/filter_data.py
      md5: c87b049ad13772e20638d57f23c6b671
      size: 1166
    outs:
    - path: data/interim/filtered/ES_O3_filtered.csv
      md5: 82392b34819a01c317effe0f04f3b092
      size: 2754165
  filter_data@PM2.5:
    cmd: python src/data/filter_data.py data/raw/ES_PM2.5/ data/interim/filtered/ES_PM2.5_filtered.csv
    deps:
    - path: data/raw/
      md5: 384f78346ca1fb23fe80e385d1b96730.dir
      size: 7110257140
      nfiles: 5385
    - path: src/data/filter_data.py
      md5: c87b049ad13772e20638d57f23c6b671
      size: 1166
    outs:
    - path: data/interim/filtered/ES_PM2.5_filtered.csv
      md5: fa428dc0e6e863611f5b7612bbc3937f
      size: 2819731
  filter_data@PM10:
    cmd: python src/data/filter_data.py data/raw/ES_PM10/ data/interim/filtered/ES_PM10_filtered.csv
    deps:
    - path: data/raw/
      md5: 384f78346ca1fb23fe80e385d1b96730.dir
      size: 7110257140
      nfiles: 5385
    - path: src/data/filter_data.py
      md5: c87b049ad13772e20638d57f23c6b671
      size: 1166
    outs:
    - path: data/interim/filtered/ES_PM10_filtered.csv
      md5: 3f07aa88bef1d858fd11ff0547e988a6
      size: 2811089
  clean_data@SO2:
    cmd: python src/data/clean_data.py data/interim/updated/ES_SO2_updated.csv data/interim/cleaned/ES_SO2_cleaned.csv
    deps:
    - path: data/interim/updated/
      md5: 921e69808e9ea485281148e65e06947e.dir
      size: 10617255
      nfiles: 7
    - path: src/data/clean_data.py
      md5: 4a5a1e16e588b38cddb5458f0bb53b87
      size: 1391
    outs:
    - path: data/interim/cleaned/ES_SO2_cleaned.csv
      md5: 2fa0d3e028ce2e56079f0b30341dfa51
      size: 1775443
  clean_data@O3:
    cmd: python src/data/clean_data.py data/interim/updated/ES_O3_updated.csv data/interim/cleaned/ES_O3_cleaned.csv
    deps:
    - path: data/interim/updated/
      md5: 921e69808e9ea485281148e65e06947e.dir
      size: 10617255
      nfiles: 7
    - path: src/data/clean_data.py
      md5: 4a5a1e16e588b38cddb5458f0bb53b87
      size: 1391
    outs:
    - path: data/interim/cleaned/ES_O3_cleaned.csv
      md5: fd2885ddb9bd510f75aa44594b4464e5
      size: 1774176
  clean_data@CO:
    cmd: python src/data/clean_data.py data/interim/updated/ES_CO_updated.csv data/interim/cleaned/ES_CO_cleaned.csv
    deps:
    - path: data/interim/updated/
      md5: 921e69808e9ea485281148e65e06947e.dir
      size: 10617255
      nfiles: 7
    - path: src/data/clean_data.py
      md5: 4a5a1e16e588b38cddb5458f0bb53b87
      size: 1391
    outs:
    - path: data/interim/cleaned/ES_CO_cleaned.csv
      md5: cc6a0c7811b00caf6d950a89f9e322eb
      size: 1751261
  clean_data@NO:
    cmd: python src/data/clean_data.py data/interim/updated/ES_NO_updated.csv data/interim/cleaned/ES_NO_cleaned.csv
    deps:
    - path: data/interim/updated/
      md5: 9de6f03f4a237eae1c44a09db92a8e83.dir
      size: 12732484
      nfiles: 8
    outs:
    - path: data/interim/cleaned/ES_NO_cleaned.csv
      md5: 9e8ff7faf689fd68598b500f3e737ce6
      size: 1814055
  clean_data@PM2.5:
    cmd: python src/data/clean_data.py data/interim/updated/ES_PM2.5_updated.csv data/interim/cleaned/ES_PM2.5_cleaned.csv
    deps:
    - path: data/interim/updated/
      md5: 921e69808e9ea485281148e65e06947e.dir
      size: 10617255
      nfiles: 7
    - path: src/data/clean_data.py
      md5: 4a5a1e16e588b38cddb5458f0bb53b87
      size: 1391
    outs:
    - path: data/interim/cleaned/ES_PM2.5_cleaned.csv
      md5: 9f3782935491b9a603c077f6c5470cfb
      size: 1804458
  clean_data@PM10:
    cmd: python src/data/clean_data.py data/interim/updated/ES_PM10_updated.csv data/interim/cleaned/ES_PM10_cleaned.csv
    deps:
    - path: data/interim/updated/
      md5: 921e69808e9ea485281148e65e06947e.dir
      size: 10617255
      nfiles: 7
    - path: src/data/clean_data.py
      md5: 4a5a1e16e588b38cddb5458f0bb53b87
      size: 1391
    outs:
    - path: data/interim/cleaned/ES_PM10_cleaned.csv
      md5: 15d0157def9a9249e42967a711e525e4
      size: 1807697
  clean_data@NO2:
    cmd: python src/data/clean_data.py data/interim/updated/ES_NO2_updated.csv data/interim/cleaned/ES_NO2_cleaned.csv
    deps:
    - path: data/interim/updated/
      md5: 921e69808e9ea485281148e65e06947e.dir
      size: 10617255
      nfiles: 7
    - path: src/data/clean_data.py
      md5: 4a5a1e16e588b38cddb5458f0bb53b87
      size: 1391
    outs:
    - path: data/interim/cleaned/ES_NO2_cleaned.csv
      md5: de4dcc4c9e66e0acefa6d1a7d89a5ebc
      size: 1772478
  load_historical_data@CO:
    cmd: python src/data/data_loading_historical.py data/raw/ CO 8
    deps:
    - path: metadata/download_config.json
      md5: 554775d7aa0063327ee0f40f756ea1ec
      size: 175
    - path: src/data/data_loading_historical.py
      md5: 2e2815d68308bb33a7036db8cfff09d1
      size: 3465
    outs:
    - path: data/raw/ES_CO
      md5: ef8edc9707130f068943dbde96db77ff.dir
      size: 550158616
      nfiles: 421
    - path: data/raw/ES_CO_urls.txt
      md5: 79845bade24daff95e78f021ec7e691c
      size: 39156
  load_historical_data@PM10:
    cmd: python src/data/data_loading_historical.py data/raw/ PM10 8
    deps:
    - path: metadata/download_config.json
      md5: 554775d7aa0063327ee0f40f756ea1ec
      size: 175
    - path: src/data/data_loading_historical.py
      md5: 2e2815d68308bb33a7036db8cfff09d1
      size: 3465
    outs:
    - path: data/raw/ES_PM10
      md5: 1546e2fb16e5943c16664ad1e260492d.dir
      size: 969476070
      nfiles: 726
    - path: data/raw/ES_PM10_urls.txt
      md5: 174d54bec58fecc7c941c7d3727024ea
      size: 66795
  load_historical_data@NO:
    cmd: python src/data/data_loading_historical.py data/raw/ NO 8
    deps:
    - path: metadata/download_config.json
      md5: 2c8889bb780db391582dc49b0b29f236
      size: 181
    - path: src/data/data_loading_historical.py
      md5: 643bcfaa18678d1c3a7c86820661c0c0
      size: 3484
    outs:
    - path: data/raw/ES_NO
      md5: 7a4f489e684b7c9f8e5599ac89e8c14d.dir
      size: 1359725246
      nfiles: 1028
    - path: data/raw/ES_NO_urls.txt
      md5: f0945454120c2f1611fb1156e89ddc13
      size: 95607
  load_historical_data@NO2:
    cmd: python src/data/data_loading_historical.py data/raw/ NO2 8
    deps:
    - path: metadata/download_config.json
      md5: 554775d7aa0063327ee0f40f756ea1ec
      size: 175
    - path: src/data/data_loading_historical.py
      md5: 2e2815d68308bb33a7036db8cfff09d1
      size: 3465
    outs:
    - path: data/raw/ES_NO2
      md5: 8955b22b3241095783537187bae46bfb.dir
      size: 1413039990
      nfiles: 1070
    - path: data/raw/ES_NO2_urls.txt
      md5: bc4ae6c1112972ce061f8cd8d3ef4a16
      size: 98443
  load_historical_data@SO2:
    cmd: python src/data/data_loading_historical.py data/raw/ SO2 8
    deps:
    - path: metadata/download_config.json
      md5: 554775d7aa0063327ee0f40f756ea1ec
      size: 175
    - path: src/data/data_loading_historical.py
      md5: 2e2815d68308bb33a7036db8cfff09d1
      size: 3465
    outs:
    - path: data/raw/ES_SO2
      md5: 8ec2c9656e5927a3c5d4337a957eb93a.dir
      size: 1134359647
      nfiles: 853
    - path: data/raw/ES_SO2_urls.txt
      md5: 60dd3d2d0e4576e7b22e78a65b575c58
      size: 78479
  load_historical_data@O3:
    cmd: python src/data/data_loading_historical.py data/raw/ O3 8
    deps:
    - path: metadata/download_config.json
      md5: 554775d7aa0063327ee0f40f756ea1ec
      size: 175
    - path: src/data/data_loading_historical.py
      md5: 2e2815d68308bb33a7036db8cfff09d1
      size: 3465
    outs:
    - path: data/raw/ES_O3
      md5: 36b13e48de0609f833d0d767556a6d47.dir
      size: 1156826365
      nfiles: 872
    - path: data/raw/ES_O3_urls.txt
      md5: cb7bede40f7a95500cff864d20dcfae3
      size: 80227
  load_historical_data@PM2.5:
    cmd: python src/data/data_loading_historical.py data/raw/ PM2.5 8
    deps:
    - path: metadata/download_config.json
      md5: 554775d7aa0063327ee0f40f756ea1ec
      size: 175
    - path: src/data/data_loading_historical.py
      md5: 2e2815d68308bb33a7036db8cfff09d1
      size: 3465
    outs:
    - path: data/raw/ES_PM2.5
      md5: 3935074f145ff85204d87c7a375d0467.dir
      size: 526173760
      nfiles: 407
    - path: data/raw/ES_PM2.5_urls.txt
      md5: a12764758e1aa01ee577879b1b5a7237
      size: 38668
  calculation_AQI:
    cmd: python src/features/data_preprocessing.py data/interim/cleaned/ data/processed/AQI_dataset.csv
    deps:
    - path: data/interim/cleaned/
      md5: 3cd22757d810bb8c9b4e7512043bf0e9.dir
      size: 12499638
      nfiles: 8
    - path: src/features/data_preprocessing.py
      md5: bb3719b9099dc8025234a699738ecf3f
      size: 9193
    outs:
    - path: data/processed/AQI_dataset.csv
      md5: 7acdd9dcb610fddf6bdbc2b2def87b03
      size: 2043374
